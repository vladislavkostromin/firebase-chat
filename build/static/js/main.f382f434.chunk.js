(this["webpackJsonpfirebase-chat"]=this["webpackJsonpfirebase-chat"]||[]).push([[0],{116:function(e,t,n){},128:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return z}));var c=n(1),a=n(26),r=n.n(a),i=(n(116),n(20)),o=n(78),s=(n(92),n(22)),d="/login",j="/chat",u=n(0),b=n.n(u),l=n(2),h=n(158),x=n(161),O=n(167),p=n(98),f=n.n(p),m=n(166),v=n(47),g=n(16),C=function(){var e=Object(c.useContext)(z).auth,t=function(){var t=Object(l.a)(b.a.mark((function t(){var n,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new v.a.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(n);case 3:c=t.sent,c.user;case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(g.jsx)(h.a,{children:Object(g.jsx)(x.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(g.jsx)(x.a,{children:Object(g.jsx)(m.a,{p:10,children:Object(g.jsx)(O.a,{onClick:t,variant:"outlined",endIcon:Object(g.jsx)(f.a,{}),children:"Sign in with your google account"})})})})})},y=n(168),w=n(164),I=n(99),k=n.n(I),L=n(49),E=function(){return Object(g.jsx)(h.a,{children:Object(g.jsx)(x.a,{container:!0,style:{height:500},alignItems:"center",justifyContent:"center",children:Object(g.jsx)(x.a,{children:Object(g.jsxs)("div",{className:"lds-ripple",children:[Object(g.jsx)("div",{}),Object(g.jsx)("div",{})]})})})})},A=n(102),S=[{path:d,Component:C}],B=[{path:j,Component:function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useContext)(z),o=r.auth,s=r.firestore,d=Object(L.a)(o),j=Object(i.a)(d,1)[0],u=Object(A.a)(s.collection("messages").orderBy("createdAt")),p=Object(i.a)(u,2),f=p[0],m=p[1],C=function(){var e=Object(l.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.collection("messages").add({uid:j.uid,displayName:j.displayName,photoURL:j.photoURL,text:n,createdAt:v.a.firestore.FieldValue.serverTimestamp()}),a("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e=function(e){"Enter"===e.code&&C()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[C]),m?Object(g.jsx)(E,{}):Object(g.jsx)(h.a,{children:Object(g.jsxs)(x.a,{container:!0,justifyContent:"center",children:[Object(g.jsx)("div",{style:{background:"#dbdbdb52",width:"75%",height:"70vh",border:"1px solid gray",overflowY:"auto",margin:"20px 0 20px 0"},children:f.map((function(e){return Object(g.jsxs)("div",{style:{width:"fit-content",margin:10,padding:10,backgroundColor:j.uid===e.uid?"#3f51b5":"#a6a8b3",border:j.uid===e.uid?"0.5px solid #3f51b5":"0.5px solid #a6a8b3",borderRadius:"25px",marginLeft:j.uid===e.uid?"auto":"10px"},children:[Object(g.jsxs)(x.a,{container:!0,alignItems:"center",style:{marginBottom:5},children:[Object(g.jsx)(y.a,{style:{marginRight:10},src:j.photoURL}),Object(g.jsx)("div",{children:e.displayName})]}),Object(g.jsx)("div",{children:e.text})]},j.uid)}))}),Object(g.jsxs)(x.a,{container:!0,direction:"column",alignItems:"flex-end",style:{width:"75%"},children:[Object(g.jsx)(w.a,{style:{background:"#dbdbdb52"},value:n,onChange:function(e){return a(e.target.value)},fullWidth:!0,rowsMax:2,variant:"outlined"}),Object(g.jsx)(O.a,{style:{marginTop:10},onClick:C,variant:"contained",endIcon:Object(g.jsx)(k.a,{}),children:"send"})]})]})})}}],F=function(){var e=Object(c.useContext)(z).auth,t=Object(L.a)(e);return Object(i.a)(t,1)[0]?Object(g.jsxs)(s.d,{children:[B.map((function(e){var t=e.path,n=e.Component;return Object(g.jsx)(s.b,{path:t,component:n,exact:!0},t)})),Object(g.jsx)(s.a,{to:j})]}):Object(g.jsxs)(s.d,{children:[S.map((function(e){var t=e.path,n=e.Component;return Object(g.jsx)(s.b,{path:t,component:n,exact:!0},t)})),Object(g.jsx)(s.a,{to:d})]})},P=n(162),R=n(163),T=n(101),N=n.n(T),U=function(){var e=Object(c.useContext)(z).auth,t=Object(L.a)(e),n=Object(i.a)(t,1)[0];return Object(g.jsx)(P.a,{position:"static",children:Object(g.jsx)(R.a,{variant:"dense",children:Object(g.jsx)(x.a,{container:!0,justifyContent:"flex-end",children:n?Object(g.jsx)(O.a,{onClick:function(){return e.signOut()},variant:"contained",endIcon:Object(g.jsx)(N.a,{}),children:"Logout"}):Object(g.jsx)(o.b,{to:d,children:Object(g.jsx)(O.a,{variant:"contained",children:"Login"})})})})})};var V=function(){var e=Object(c.useContext)(z).auth,t=Object(L.a)(e),n=Object(i.a)(t,3),a=(n[0],n[1]);return n[2],a?Object(g.jsx)(E,{}):Object(g.jsxs)(o.a,{children:[Object(g.jsx)(U,{}),Object(g.jsx)(F,{})]})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,171)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};n(126),n(130);v.a.initializeApp({apiKey:"AIzaSyCCVSX55UK74QfhcmZE6AcjZddV_C2Ttvg",authDomain:"fir-chat-65a44.firebaseapp.com",projectId:"fir-chat-65a44",storageBucket:"fir-chat-65a44.appspot.com",messagingSenderId:"390696903902",appId:"1:390696903902:web:8dd4bb8ec25131a86c8e4f",measurementId:"G-E0EVWL5571"});var z=Object(c.createContext)(null),D=v.a.auth(),G=v.a.firestore();r.a.render(Object(g.jsx)(z.Provider,{value:{firebase:v.a,auth:D,firestore:G},children:Object(g.jsx)(V,{})}),document.getElementById("root")),W()},92:function(e,t,n){}},[[128,1,2]]]);
//# sourceMappingURL=main.f382f434.chunk.js.map